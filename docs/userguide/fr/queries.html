<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
<!-- 
 *
 * Copyright 2008-2009, Haiku. All rights reserved.
 * Distributed under the terms of the MIT License.
 *
 * Authors:
 *		Humdinger <humdingerb@gmail.com>
 * Translators:
 *		Loïc
 *		Vincent Duvert
 *
-->
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<meta http-equiv="Content-Style-Type" content="text/css" />
	<meta name="robots" content="all" />
	<title>Requêtes</title>
	<link rel="stylesheet" type="text/css" href="../Haiku-doc.css" />
</head>
<body>

<div id="banner">
<div><span>Guide de l’utilisateur</span></div>
</div>

<div class="nav">
<div class="inner">
<ul class="lang-menu">
<li class="now"><img src="../images/flags/fr.png" alt="" /> Français</li>
<li><a href="../de/queries.html"><img src="../images/flags/de.png" alt="" />Deutsch</a></li>
<li><a href="../it/queries.html"><img src="../images/flags/it.png" alt="" />Italiano</a></li>
<li><a href="../ru/queries.html"><img src="../images/flags/ru.png" alt="" />Русский</a></li>
<li><a href="../es/queries.html"><img src="../images/flags/es.png" alt="" />Español</a></li>
<li><a href="../sv_SE/queries.html"><img src="../images/flags/sv_SE.png" alt="" />Svensk</a></li>
<li><a href="../jp/queries.html"><img src="../images/flags/jp.png" alt="" />日本語</a></li>
<li><a href="../uk/queries.html"><img src="../images/flags/uk.png" alt="" />Українська</a></li>
<li><a href="../en/queries.html"><img src="../images/flags/gb.png" alt="" />English</a></li>
</ul>
<span>
 «  <a href="index.html">Index</a> 
::  <a href="contents.html" class="uplink">Sommaire</a> 
::  <a href="workshop-filetypes+attributes.html">Atelier</a>  »
</span></div>
</div>

<div id="content">
<div>


<table class="index" id="index" summary="index">
<tr class="heading"><td>Index</td></tr>
<tr class="index"><td>
	<a href="#find-window">La fenêtre de recherche</a><br />
	<a href="#basic-query">Recherches basiques - "par Nom"</a><br />
	<a href="#adv-query">Recherches avancées - "par Attribut"</a><br />
	<a href="#more-adv-query">Requêtes encore plus avancées - "par formule"</a><br />
	<a href="#result-window">La fenêtre de résultat</a><br />
	<a href="#query-template">Modèles de requêtes</a>
</td></tr>
</table>

<h1>Requêtes</h1>

<p>Une requête est une recherche de fichiers basée sur des attributs de fichiers et peut être réalisée dans le Tracker ou dans le Terminal. Les requêtes sont sauvegardées dans <span class="path">/boot/home/queries/</span> et par défaut, elles sont conservées sept jours avant d'être purgé. Vous remarquez que ce ne sont pas des listes statiques de résultats de vos recherches, mais ce sont des formules de requête qui déclenchent une nouvelle recherche chaque fois que vous les ouvrez.<br />
Mieux encore, vous n'avez pas à double-cliquer à nouveau pour rafraichir une requête. Vous pouvez <a href="tracker.html#navigating">explorer</a> une requête enregistrée, tout comme n'importe quel dossier en effectuant un clic droit sur elle et en naviguant dans les sous-menus.</p>

<h2>
<a href="#"><img src="../images/up.png" style="border:none;float:right" alt="index" /></a>
<a id="find-window" name="find-window">La fenêtre de recherche</a></h2>
<p>Vous commencez une requête en invoquant le menu <span class="menu">Find...</span> à partir du menu de la Deskbar, de n'importe quelle fenêtre du Tracker ou directement à partir du bureau (ce dernier est en fait une fenêtre du Tracker en plein écran). Le raccourci est <span class="key">CMD</span> <span class="key">F</span>. Voici une présentation de la fenêtre de recherche :</p>
<img src="images/queries-images/basic-query.png" alt="basic-query.png" />
<ol>
<li><p>Sélectionnez une requête récente/enregistrée ou sauvegarder les critères de recherche en cours dans un <a href="#query-template">modèle de requête</a>.</p></li>
<li><p>Réduisez votre recherche de "Tous les fichiers et les dossiers" (<span class="menu">All files and folders</span>) à un type de fichier spécifique.</p></li>
<li>Sélection de la méthode de recherche :<ul>
    <li><span class="menu">by Name</span> - une recherche basique par nom de fichier ou de dossier</li>
    <li><span class="menu">by Attribute</span> - une recherche avancée, vous spécifiez les termes d'une recherche sur un ou plusieurs attributs</li>
    <li><span class="menu">by Formula</span> - une recherche encore plus avancée, vous pouvez formuler finement vos critères en termes complexes.</li></ul></li>
<li><p>Selection des disques/volumes à interroger.</p></li>
<li><p>Entrez le terme recherché.</p></li>
<li><p>Un agrandisseur cache/montre les options supplémentaires.</p></li>
<li><p>Décochez la case <span class="menu">Temporary</span> (Temporaire) si vous ne voulez pas que cette requête s'efface après 7 jours.</p></li>
<li><p>Cocher si votre requête est supposé inclure la corbeille (<span class="menu">Include trash</span>).</p></li>
<li><p>En option, saisissez un nom pour cette requête si vous souhaitez l'enregistrer.</p></li>
<li><p>Vous pouvez glisser&amp;déposer l'icône pour sauvegarder la requête. En le faisant avec le bouton droit, vous aurez le choix de sauver le modèle de la requête.</p></li>
</ol>

<h2>
<a href="#"><img src="../images/up.png" style="border:none;float:right" alt="index" /></a>
<a id="basic-query" name="basic-query">Recherches basiques - "par Nom"</a></h2>
<p>Si vous souhaitez simplement trouver tous les fichiers sur vos disques montés dont le nom correspond à un certain motif, laissez simplement la méthode de recherche "<span class="menu">by name</span>", entrez le terme recherché dans la zone de texte et pressez <span class="key">ENTRÉE</span>.</p>

<h2>
<a href="#"><img src="../images/up.png" style="border:none;float:right" alt="index" /></a>
<a id="adv-query" name="adv-query">Recherches avancées - "par Attribut"</a></h2>
<p>Vous pouvez créer des requêtes plus complexes en faisant une recherche dans les attributs de fichiers d'un type spécifique. Pour que cela fonctionne, ces attributs doivent être <a href="index.html">indexés</a>.</p>
<img src="images/queries-images/query-window.png" alt="query-window.png" />
<p>Commencez par sélectionner un type de fichier à partir de <span class="menu">All files and folders</span>, par exemple <span class="menu">Texte | E-mail</span> puis choisissez la méthode de recherche <span class="menu">by Attribute</span>.</p>
<p>Cela ajoute une liste déroulante à gauche de la zone de texte ainsi que les boutons <span class="button">Add</span> et <span class="button">Remove</span> juste dessous. Dans la liste déroulante vous choisissez quel attribut rechercher. Avec<span class="button">Add</span> et <span class="button">Remove</span> vous pouvez interroger des attributs supplémentaires ou les retirer. Ces attributs peuvent être combinés logiquement avec ET/OU.</p>
<p>Faisons par exemple une requête sur un e-mail :</p>
<img src="images/queries-images/query-window-filled.png" alt="query-window-filled.png" />
<p>Il s'agit de votre fenêtre de recherche lorsque vous êtes à la recherche de tous les e-mails que vous a envoyé Clara Botters dans les deux derniers mois et dont le sujet contenait "vibraphone" ou "skepticality".</p>

<h2>
<a href="#"><img src="../images/up.png" style="border:none;float:right" alt="index" /></a>
<a id="more-adv-query" name="more-adv-query">Requêtes encore plus avancées - "par formule"</a></h2>
<p>Saisir une formule de requête manuellement est rebutant et assez peu pratique. Elle a néanmoins son utilité.</p>
<p>Prenez par exemple la requête par attributs ci-dessus, cherchant les emails de Clara concernant les vibraphones. Si vous passez ensuite en mode de recherche par formule (<span class="menu">by Formula</span>), vous serez confronté à cette longue phrase de recherche :</p>
<img src="images/queries-images/formula-query.png" alt="formula-query.png" />
<p>la même chose, sous forme de texte, édité pour plus de lisibilité :</p>
<pre>(((((MAIL:from=="*[cC][lL][aA][rR][aA] [bB][oO][tT][tT][eE][rR][sS]*")
       &amp;&amp;(MAIL:when&gt;=%2 months%))
       &amp;&amp;(MAIL:subject=="*[vV][iI][bB][rR][aA][pP][hH][oO][nN][eE]*"))
       ||(MAIL:subject=="*[sS][kK][eE][pP][tT][iI][cC][aA][lL][iI][tT][yY]*"))
       &amp;&amp;(BEOS:TYPE=="text/x-email"))</pre>
<p>A quoi ça sert ?</p>
<ul>
<li><p>Vous pouvez copier et coller la chaîne dans un e-mail, un forum ou sur IRC pour que d'autres puissent l'utiliser ou la déboguer.</p></li>
<li><p>En construisant une requête en mode <span class="menu">Attribute</span>, puis en passant en mode <span class="menu">Formula</span>, Vous pouvez générer facilement une chaîne de recherche à utiliser pour une requête dans le Terminal ou dans un script.</p></li>
<li><p>Vous pouvez affiner votre recherche en ajoutant des parenthèses si nécessaire, rendre une partie sensible à la casse ou modifier leur combinaison logique en changeant par exemple "<tt>==</tt>" en "<tt>!=</tt>" pour un NON ET. Il suffit d'avoir une compréhension de base des <a href="http://en.wikipedia.org/wiki/Regular_expression" class="external free" title="http://en.wikipedia.org/wiki/Regular expression">expressions régulières</a>, et peut-être quelques notions de base de scripts.</p></li>
</ul>

<h2>
<a href="#"><img src="../images/up.png" style="border:none;float:right" alt="index" /></a>
<a id="result-window" name="result-window">La fenêtre de résultat</a></h2>
<p>Après avoir lancé une recherche, la fenêtre de recherche va être remplacée par une fenêtre de résultat. Voici un exemple qui a demandé "server" :</p>
<img src="images/queries-images/result-window.png" alt="result-window.png" />
<p>Hormis leur fond gris, les fenêtres de résultat fonctionnent exactement comme n'importe quelle autre fenêtre du Tracker. Certaines choses méritent d'être noter :</p>
<ul>
<li><p>Vous pouvez ouvrir le dossier dans lequel se trouve le fichier ou le dossier en cliquant deux fois sur l'attribut "Path".</p></li>
<li><p>Avec <span class="menu">File | Edit Query</span> ou <span class="key">CMD</span> <span class="key">G</span> vous revenez à la fenêtre de recherche où vous pouvez affiner vos critères.</p></li>
<li><p>Une requête est vivante, c'est à dire que si un fichier qui correspond à vos critères de recherche apparaît ou disparaît de votre système, ce changement se reflètera dans les résultats en temps réel.</p></li>
</ul>
<p>Vous pouvez assigner un style d’affichage des attributs pour les résultats de recherche d’un type de fichier spécifique. Ouvrez un dossier contenant des fichier du type dont vous voudriez créer un style, et arrangez les attributs comme vous le souhaitez. Copiez ensuite cette représentation en utilisant le menu <span class="menu">Attributes | Copy Layout</span>.</p>
<p>Ouvrez <span class="path">/boot/home/config/settings/Tracker/DefaultQueryTemplates</span>, créez un nouveau dossier nommé <i>group/filetype</i>, en remplaçant la barre oblique par un trait de soulignement, par exemple, "Audio_x-mp3". Ouvrez ce nouveau dossier et collez la structure précédemment copiée avec <span class="menu">Attributes | Paste Layout</span>.</p>


<h2>
<a href="#"><img src="../images/up.png" style="border:none;float:right" alt="index" /></a>
<a id="query-template" name="query-template">Modèles de requêtes</a></h2>
<p>Si vous double-cliquez sur une requête enregistrée, la recherche démarre et immédiatement, la fenêtre de résultat s'ouvre. Toutefois, vous pourriez ne pas vouloir effectuer de recherches avec ces critères <i>précis</i>, mais les utiliser comme point de départ en ajustant la formule légèrement.<br />
En utilisant la méthode <span class="menu">Save Query as Template</span> du menu (Enregistrer le modèle) (voir <a href="#find-window">(1) dans la capture d'écran</a> en haut) ou en faisant glisser l'icône (10) n'importe où avec le bouton droit de la souris, vous pouvez créer un modèle. Un double-clic n'ouvrira plus une fenêtre de résultat, mais un panneau de recherche, vous donnant la possibilité de changer rapidement le texte de recherche, d'ajouter des attributs ou d'en enlever.</p>
<p>Où que vous choisissiez d'enregistrer les modèles de requêtes, ils seront énumérés dans la liste des requêtes récentes de la fenêtre recherche.</p>
</div>
</div>

<div class="nav">
<div class="inner"><span>
 «  <a href="index.html">Index</a> 
::  <a href="contents.html" class="uplink">Sommaire</a> 
::  <a href="workshop-filetypes+attributes.html">Atelier</a>  »
</span></div>
</div>

</body>
</html>
