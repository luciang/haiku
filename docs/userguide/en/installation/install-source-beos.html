<?xml version="1.0" encoding="UTF-8" ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"../html-dtd/xhtml1-strict.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
<!-- 
*
* Copyright 2009, Haiku. All rights reserved.
* Distributed under the terms of the MIT License.
*
* Authors:
*		Socapex_2K <philippe_groarke@yahoo.ca>
*
-->
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<meta http-equiv="Content-Style-Type" content="text/css" />
	<meta name="robots" content="all" />
	<title>Building Haiku on BeOS</title>
	<link rel="stylesheet" type="text/css" href="../../../Haiku-doc.css" />
</head>
<body>

<div class="logo">
	<img src="../../images/logo.png" alt="logo" width="372" height="86" />
	<div class="title">Building Haiku on BeOS</div>
</div>
<div class="topnav">
	<p>
		<a href="../contents.html">Contents</a>
		&#160;&#160;&#160;
		Back to <a href="../installation.html">Installing Haiku</a>
	</p>
</div>

<div class="content">

<h1>Getting the source</h1>
<p><b>Note:</b> <i>All commands must be executed in the Terminal.</i></p>

<p>Go to the parent directory for Haiku's repository (ex. <tt>/home/develop</tt>) and enter:</p>

<pre class="terminal">svn checkout svn://svn.berlios.de/haiku/haiku/trunk haiku</pre>

<p>This will checkout the source into a new subdirectory called "haiku". <b>Members</b> of Haiku should login with their BerliOS account to get commit access:</p>
<pre class="terminal">svn checkout svn+ssh://developername@svn.berlios.de/svnroot/repos/haiku/haiku/trunk haiku</pre>

<p>After the <b>initial checkout</b> (also in case not the entire tree was checked out successfully) you can fetch source code updates with the following command in your repository's root folder:</p>
<pre class="terminal">svn update</pre>


<h1>Installing the cross-compiler</h1>
<p>Download the <a href="http://haiku.mlotz.ch/haiku_cross_compiler_bone_2.95.3-haiku-080323.zip">Haiku cross-compiler</a> and extract it to <tt>/boot</tt> (for example by setting the <i>Destination</i> in Expander to just <tt>/boot</tt>). Then you need to configure your tree to use this cross compiler. Go to the root folder of your checked out Haiku repository and invoke the configure script with the <tt>--cross-tools-prefix</tt> option like this:</p>

<pre class="terminal">configure --cross-tools-prefix /boot/apps/haiku/cross-tools/bin/i586-pc-haiku-</pre>

<p>Be careful to include all of the string up to and including the last dash, as all the cross compiler tools have this prefix (they are for example called <tt>i586-pc-haiku-ar</tt>). You need to specify this prefix everytime you run configure.</p>

<h1>Building the source</h1>

<p>You can now start the build process with:</p>

<pre class="terminal">jam</pre>

<p style="text-indent: 15pt"><b>Note:</b> <i>this will just build any target that is found in the tree. This is usually not that useful, as many parts might not build and are not required. So optionally, a target can be specified by adding a target name. For example, </i><tt>jam app_server</tt><i> will only build the </i><tt>app_server</tt><i> target. Normally though you will want to build an image or installation using the commands below. Add the </i><tt>-a</tt><i> option to rebuild the whole source or only the specified target in case </i><tt>Jam</tt><i> didn't notice source changes.</i></p>

<h1>Building an image</h1>

<p>You can build a Haiku image with:</p>
<pre class="terminal">jam haiku-image</pre>

<p>This will place a file named <tt>haiku.image</tt> into the <tt>generated/</tt> folder.</p>

<p>To build an image for testing in VMWare:</p>
<pre class="terminal">jam haiku-vmware-image</pre>

<p>This will place a file named <tt>haiku.vmdk</tt> into the <tt>generated/</tt> folder.</p>

<p>Instead of building an image, you may install Haiku on a mounted partition using:</p>
<pre class="terminal">HAIKU_INSTALL_DIR=/target_folder jam install-haiku</pre>

</div>

<div class="bottomnav">
	<p>
		<a href="../contents.html">Contents</a>
		&#160;&#160;&#160;
		Back to <a href="../installation.html">Installing Haiku</a>
	</p>
</div>

</body>
</html>
