SubDir OBOS_TOP src bin coreutils src ;

SubDirCcFlags -DHAVE_CONFIG_H  -DLOCALEDIR=\'\"/share/locale\"\' ;
SubDirHdrs [ FDirName $(SUBDIR) $(DOTDOT) lib ] ;
SubDirHdrs [ FDirName $(SUBDIR) $(DOTDOT) ] ;

local coreutils_rsrc = [ FGristFiles coreutils.rsrc ] ;

ResComp $(coreutils_rsrc) : [ FGristFiles coreutils.rdef ] ;

StdBinCommands
	basename.c
	cat.c
	cksum.c
	comm.c
	csplit.c
	cut.c
	date.c
	dd.c
	dircolors.c
	dirname.c
	echo.c 
	env.c
	expand.c
	expr.c
	factor.c
	false.c
	fmt.c
	fold.c
	head.c
	id.c
	join.c
	kill.c
	link.c
	ln.c
	logname.c
	mkfifo.c
	mknod.c
	nl.c
	nohup.c
	od.c
	paste.c
	pathchk.c
	pr.c
	printenv.c
	printf.c
	ptx.c
	readlink.c
	rmdir.c
	seq.c
	shred.c
	split.c
	stty.c
	su.c
	sum.c
	sync.c
	tac.c
	tee.c
	test.c
	touch.c
	tr.c
	true.c
	tsort.c
	tty.c
	unexpand.c
	uniq.c
	unlink.c
	wc.c
	whoami.c
	yes.c
	: libfetish.a : $(coreutils_rsrc) ;

# commands requiring select, uname, etc.

StdBinCommands
	hostname.c
	tail.c
	uname.c
	: libfetish.a $(SELECT_UNAME_ETC_LIB) : $(coreutils_rsrc) ;

#commands requiring something in libroot.so (getrlimit, fchdir...)

StdBinCommands
	chmod.c
	du.c
	mkdir.c
	pwd.c
	sleep.c
	sort.c
        : libfetish.a libroot.so : $(coreutils_rsrc) ;

# stat.c
# chroot.c
# df.c
# hostid.c
# nice.c
# pinky.c
# uptime.c
# users.c
# who.c


BinCommand ls : 
	ls.c ls-dir.c : libfetish.a : $(coreutils_rsrc) ;

BinCommand rm : 
	rm.c remove.c : libfetish.a libroot.so : $(coreutils_rsrc) ;

BinCommand chgrp : 
	chgrp.c chown-core.c : libfetish.a libroot.so : $(coreutils_rsrc) ;

BinCommand chown : 
	chown.c chown-core.c : libfetish.a libroot.so : $(coreutils_rsrc) ;

BinCommand cp : 
	cp.c copy.c cp-hash.c : libfetish.a : $(coreutils_rsrc) ;

BinCommand md5sum : 
	md5sum.c md5.c : libfetish.a : $(coreutils_rsrc) ;

BinCommand mv : 
	mv.c copy.c cp-hash.c remove.c : libfetish.a libroot.so : $(coreutils_rsrc) ;

BinCommand sha1sum : 
	md5sum.c sha1sum.c : libfetish.a : $(coreutils_rsrc) ;

BinCommand vdir : 
	ls.c ls-vdir.c : libfetish.a : $(coreutils_rsrc) ;

MakeLocate groups : $(OBOS_BIN_DIR) ;
Shell groups : groups.sh ;

