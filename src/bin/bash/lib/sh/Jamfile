SubDir HAIKU_TOP src bin bash lib sh ;

SetSubDirSupportedPlatformsBeOSCompatible ;

if $(TARGET_PLATFORM) != haiku {
	UseHeaders [ FDirName $(HAIKU_TOP) headers posix ] : true ;
}

# filter warnings we don't want here
TARGET_WARNING_CCFLAGS = [ FFilter $(TARGET_WARNING_CCFLAGS)
	: -Wall -Wmissing-prototypes -Wsign-compare ] ;

SubDirCcFlags -DHAVE_CONFIG_H -DSHELL ;

SubDirSysHdrs [ FDirName $(SUBDIR) $(DOTDOT) $(DOTDOT) ] ;
SubDirSysHdrs [ FDirName $(SUBDIR) $(DOTDOT) $(DOTDOT) include ] ;
SubDirSysHdrs [ FDirName $(SUBDIR) $(DOTDOT) ] ;

StaticLibrary libsh.a : 
	clktck.c
	clock.c
	getenv.c
	oslib.c
	setlinebuf.c
	itos.c
	rename.c
	zread.c
	zwrite.c
	shtty.c
	inet_aton.c
	netconn.c
#	netopen.c
	timeval.c
	makepath.c
	pathcanon.c
	pathphys.c
	tmpfile.c
	stringlist.c
	stringvec.c
	spell.c
	shquote.c 
	strtrans.c 
	strindex.c 
	snprintf.c 
	mailstat.c
	fmtulong.c 
	fmtullong.c 
	fmtumax.c 
	mktime.c 
	xstrchr.c 
	zcatfd.c 
;
