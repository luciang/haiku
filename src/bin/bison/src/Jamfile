SubDir HAIKU_TOP src bin bison src ;

SubDirCcFlags -DHAVE_CONFIG_H   -DPKGDATADIR=\'\"/etc\"\' -DLOCALEDIR=\'\"/etc/locale\"\' ;

SubDirSysHdrs [ FDirName $(SUBDIR) $(DOTDOT) lib ] ;
SubDirSysHdrs [ FDirName $(SUBDIR) $(DOTDOT) ] ;

BinCommand bison :
	LR0.c
	assoc.c
	closure.c
	complain.c
	conflicts.c
	derives.c
	files.c
	getargs.c
	gram.c
	lalr.c
	location.c
	main.c
	muscle_tab.c
	nullable.c
	output.c
#	parse-gram.y
	parse-gram.c
	print.c
	print_graph.c
	reader.c
	reduce.c
	relation.c
	scan-gram.l
	scan-skel.l
	state.c
	symlist.c
	symtab.c
	tables.c
	uniqstr.c
	vcg.c
	: libbison.a
	: bison.rdef
;

# Don't search scan-gram.c and scan-skel.c in the source directory.
# We want to use the one generated from scan-gram.l and scan-skel.l.
SEARCH on [ FGristFiles scan-gram.c scan-skel.c ] = ;
