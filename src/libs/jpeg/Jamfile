SubDir HAIKU_TOP src libs jpeg ;

SetSubDirSupportedPlatformsBeOSCompatible ;

UseLibraryHeaders jpeg ;

local jpeg_files = 
	jcapimin.c
	jcapistd.c
	jccoefct.c
	jccolor.c
	jcdctmgr.c
	jcdiffct.c
	jchuff.c
	jcinit.c
	jclhuff.c
	jclossls.c
	jclossy.c
	jcmainct.c
	jcmarker.c
	jcmaster.c
	jcodec.c
	jcomapi.c
	jcparam.c
	jcphuff.c
	jcpred.c
	jcprepct.c
	jcsample.c
	jcscale.c
	jcshuff.c
	jctrans.c
	jdapimin.c
	jdapistd.c
	jdatadst.c
	jdatasrc.c
	jdcoefct.c
	jdcolor.c
	jddctmgr.c
	jddiffct.c
	jdhuff.c
	jdinput.c
	jdlhuff.c
	jdlossls.c
	jdlossy.c
	jdmainct.c
	jdmarker.c
	jdmaster.c
	jdmerge.c
	jdphuff.c
	jdpostct.c
	jdpred.c
	jdsample.c
	jdscale.c
	jdshuff.c
	jdtrans.c
	jerror.c
	jfdctflt.c
	jfdctfst.c
	jfdctint.c
	jidctflt.c
	jidctfst.c
	jidctint.c
	jidctred.c
	jmemmgr.c
	jmemnobs.c
	jquant1.c
	jquant2.c
	jutils.c
;

ObjectCcFlags [ FGristFiles $(jpeg_files:S=$(SUFOBJ)) ] : -w ;

StaticLibrary libjpeg.a :
	$(jpeg_files)
;

SharedLibrary libjpeg.so :
	$(jpeg_files)
;

BinCommand jpegtran :
	jpegtran.c
	cdjpeg.c
	rdswitch.c
	transupp.c
	: be libjpeg.so
;

