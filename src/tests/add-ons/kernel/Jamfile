SubDir HAIKU_TOP src tests add-ons kernel ;

UsePrivateHeaders [ FDirName kernel ] ;
UsePrivateHeaders shared ;
SubDirHdrs $(HAIKU_TOP) headers private kernel arch $(TARGET_ARCH) ;
SubDirHdrs $(HAIKU_TOP) headers private kernel boot platform $(TARGET_BOOT_PLATFORM) ;

SharedLibrary libkernelland_emu.so :
	kernelland_emu.cpp
	strlcpy.c
	lock.c
	list.c

	: be stdc++.r4 ;

AbsSymLink <boot!home!config!lib>libkernelland_emu.so : libkernelland_emu.so
	: /boot/home/config/lib : false ;

SEARCH on [ FGristFiles 
		strlcpy.c
	] = [ FDirName $(HAIKU_TOP) src system libroot posix string ] ;

SEARCH on [ FGristFiles 
		lock.c
	] = [ FDirName $(HAIKU_TOP) src system kernel ] ;

SEARCH on [ FGristFiles
		list.c
	] = [ FDirName $(HAIKU_TOP) src system kernel util ] ;

# SubInclude HAIKU_TOP src tests add-ons kernel disk_scanner ;
SubInclude HAIKU_TOP src tests add-ons kernel drivers ;
SubInclude HAIKU_TOP src tests add-ons kernel file_systems ;
SubInclude HAIKU_TOP src tests add-ons kernel network ;
