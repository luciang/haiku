SubDir OBOS_TOP src tests kits support ;

# Let Jam know where to find some of our source files
SEARCH_SOURCE += [ FDirName $(SUBDIR) barchivable ] ;
SEARCH_SOURCE += [ FDirName $(SUBDIR) bautolock ] ;
SEARCH_SOURCE += [ FDirName $(SUBDIR) blocker ] ;
SEARCH_SOURCE += [ FDirName $(SUBDIR) bmemoryio ] ;

CommonTestLib libsupporttest.so
	: SupportKitTestAddon.cpp

		# BArchivable
		ArchivableTest.cpp
		BArchivableTester.cpp
		FindInstantiationFuncTester.cpp
		InstantiateObjectTester.cpp
		LocalTestObject.cpp
		ValidateInstantiationTester.cpp
		
		# BAutolock
		AutolockTest.cpp
		AutolockLockerTest.cpp
		AutolockLooperTest.cpp

		# BLocker (all in ./blocker)
		LockerTest.cpp
		BenaphoreLockCountTest1.cpp
		ConcurrencyTest1.cpp
		ConcurrencyTest2.cpp
		ConstructionTest1.cpp
		DestructionTest1.cpp
		DestructionTest2.cpp
		LockerTestCase.cpp
		SemaphoreLockCountTest1.cpp

		# BMemoryIO
		MemoryIOTest.cpp
		ConstTest.cpp
		SeekTest.cpp
		WriteTest.cpp
		
	: <boot!home!config!lib>libopenbeos.so
		be stdc++.r4
	: be stdc++.r4
	: libsupporttest_RemoteTestObject.so
	: support
;

SubInclude OBOS_TOP src tests kits support barchivable ;
#SubInclude OBOS_TOP src tests kits support bautolock ;
#SubInclude OBOS_TOP src tests kits support blocker ;

