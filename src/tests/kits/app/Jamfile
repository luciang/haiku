SubDir OBOS_TOP src tests kits app ;

UsePrivateHeaders app ;

# Let Jam know where to find some of our source files
SEARCH_SOURCE += [ FDirName $(SUBDIR) bapplication ] ;
SEARCH_SOURCE += [ FDirName $(SUBDIR) bhandler ] ;
SEARCH_SOURCE += [ FDirName $(SUBDIR) blooper ] ;
SEARCH_SOURCE += [ FDirName $(SUBDIR) bmessagequeue ] ;
SEARCH_SOURCE += [ FDirName $(SUBDIR) bmessenger ] ;
SEARCH_SOURCE += [ FDirName $(SUBDIR) bpropertyinfo ] ;
SEARCH_SOURCE += [ FDirName $(SUBDIR) broster ] ;
SEARCH_SOURCE += [ FDirName $(SUBDIR) common ] ;

CommonTestLib libapptest.so
	: AppKitTestAddon.cpp

		# BApplication
		ApplicationTest.cpp
		AppQuitRequestedTester.cpp
		AppQuitTester.cpp
		AppRunTester.cpp
		BApplicationTester.cpp

		# BHandler
		HandlerTest.cpp
		AddFilterTest.cpp
		BHandlerTester.cpp
		IsWatchedTest.cpp
		LockLooperTest.cpp
		LockLooperTestCommon.cpp
		LockLooperWithTimeoutTest.cpp
		HandlerLooperTest.cpp
		NextHandlerTest.cpp
		RemoveFilterTest.cpp
		SetFilterListTest.cpp
		SetNextHandlerTest.cpp
		UnlockLooperTest.cpp

		# BLooper
		LooperTest.cpp
		AddHandlerTest.cpp
		CountHandlersTest.cpp
		HandlerAtTest.cpp
		IndexOfTest.cpp
		IsMessageWaitingTest.cpp
		RemoveHandlerTest.cpp
		PerformTest.cpp
		RunTest.cpp
		LooperForThreadTest.cpp
		AddCommonFilterTest.cpp
		RemoveCommonFilterTest.cpp
		LooperSizeTest.cpp
		SetCommonFilterListTest.cpp
		QuitTest.cpp

		# BMessageQueue
		MessageQueueTest.cpp
		AddMessageTest1.cpp
		AddMessageTest2.cpp
		ConcurrencyTest1.cpp
		ConcurrencyTest2.cpp
		FindMessageTest1.cpp
		MessageQueueTestCase.cpp
		
		# BMessenger
		MessengerTest.cpp
		BMessengerTester.cpp
		LockTargetTester.cpp
		LockTargetWithTimeoutTester.cpp
		MessengerAssignmentTester.cpp
		MessengerComparissonTester.cpp
		SendMessageTester.cpp
		SMInvoker.cpp
		SMLooper.cpp
		SMReplyTarget.cpp
		SMTarget.cpp
		TargetTester.cpp

		# BPropertyInfo
		PropertyTestcase.cpp
		PropertyConstructionTest.cpp
		PropertyFindMatchTest.cpp
		PropertyFlattenTest.cpp
		PropertyInfoTest.cpp

		# BRoster
		RosterTest.cpp
		FindAppTester.cpp
		GetAppInfoTester.cpp
		GetAppListTester.cpp
		IsRunningTester.cpp
		TeamForTester.cpp
		
		# RegistrarThreadManager
		RegistrarThreadManagerTest.cpp

		# common
		AppRunner.cpp
		PipedAppRunner.cpp

	: <boot!home!config!lib>libopenbeos.so
		be stdc++.r4
	: be stdc++.r4
	: 
	: app support
;

SubInclude OBOS_TOP src tests kits app bapplication ;
#SubInclude OBOS_TOP src tests kits app bhandler ;
#SubInclude OBOS_TOP src tests kits app blooper ;
#SubInclude OBOS_TOP src tests kits app bmessageQueue ;
SubInclude OBOS_TOP src tests kits app bmessenger ;
SubInclude OBOS_TOP src tests kits app common ;
