SubDir OBOS_TOP src documentation ;

XSLTPROC ?= xsltproc ;

rule Doc2HTML
{
	local source = [ FGristFiles $(1) ] ;
	local target = $(1:S=.html) ;

	SEARCH on $(source) = $(SEARCH_SOURCE) ;

	MakeLocate $(target) : [ FDirName $(OBOS_DISTRO_TARGET) beos documentation $(DOC_LOCATION) ] ;

        Depends $(target) : $(source) ;
        LocalDepends doc_files : $(target) ;
	XSLPROCPATHS on $(target) = "-path \""$(XSLPATHS:J=\ )"\"" ;
	Doc2HTML1 $(target) : $(source) ;
        LocalClean clean : $(target) ;
}

actions Doc2HTML1
{
	$(XSLTPROC) -xinclude $(XSLPROCPATHS) -o "$(1)" $(HTMLXSLSHEET) $(2) ;
}

SEARCH on  <src!documentation>license.xml = [ FDirName $(OBOS_TOP) src documentation ] ;

SubInclude OBOS_TOP src documentation haiku_book ;
SubInclude OBOS_TOP src documentation shell_tools ;
