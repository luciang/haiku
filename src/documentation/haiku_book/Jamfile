SubDir HAIKU_TOP src documentation haiku_book ;

Doc2HTML 
	Haiku_Book.xml
	: 
	: http://docbook.sourceforge.net/release/xsl/current/html/docbook.xsl
	: Haiku_Book
	;

rule FRelGristFiles 
{
	return $(<:G=$(SOURCE_GRIST:E)$(>:J=!)) ;
}

local chapter_files = appkit.xml
devicekit.xml
gamekit.xml
interfacekit.xml
kernelkit.xml
mailkit.xml
mediakit.xml
midikit.xml
networkkit.xml
openglkit.xml
storagekit.xml
supportkit.xml
translationkit.xml ;

Includes [ FGristFiles Haiku_Book.xml ] 
	: [ FGristFiles $(chapter_files) ] <src!documentation>license.xml ;
SEARCH on [ FGristFiles $(chapter_files) ] = [ FDirName $(SUB_DIR) ] ;

local app_files = intro.xml messaging.xml scripting.xml Application.xml ;
Includes [ FGristFiles appkit.xml ] : [ FRelGristFiles $(app_files) : app ] ;
SEARCH on [ FRelGristFiles $(app_files) : app ] = [ FDirName $(SUB_DIR) app ] ;

local kern_files = intro.xml threads.xml ports.xml sems.xml ;
Includes [ FGristFiles kernelkit.xml ] : [ FRelGristFiles $(kern_files) : kernel ] ;
SEARCH on [ FRelGristFiles $(kern_files) : kernel ] = [ FDirName $(SUB_DIR) kernel ] ;
