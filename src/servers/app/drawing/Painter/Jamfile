SubDir HAIKU_TOP src servers app drawing Painter ;

SetSubDirSupportedPlatformsBeOSCompatible ;
if $(TARGET_PLATFORM) != haiku {
	UseHeaders [ FStandardOSHeaders ] : true ;
}

UseLibraryHeaders agg ;
UsePrivateHeaders app interface [ FDirName servers app ] ;
UseHeaders [ FDirName $(HAIKU_TOP) src servers app drawing Painter drawing_modes ] ;
UseHeaders [ FDirName $(HAIKU_TOP) src servers app drawing Painter font_support ] ;
UseFreeTypeHeaders ;

SEARCH_SOURCE += [ FDirName $(SUBDIR) drawing_modes ] ;
SEARCH_SOURCE += [ FDirName $(SUBDIR) font_support ] ;

StaticLibrary libpainter.a :
	Painter.cpp
	ShapeConverter.cpp
	Transformable.cpp

	# drawing_modes
	DrawingModeFactory.cpp

	# font_support
	# is contained within libagg.a,
	# but we need a modified version that
	# uses the FontServer
	agg_font_freetype.cpp
	
	AGGTextRenderer.cpp
;
