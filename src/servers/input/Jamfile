SubDir OBOS_TOP src servers input ;

if $(COMPILE_FOR_R5) {
	SubDirC++Flags -DCOMPILE_FOR_R5 ;
}

AddResources input_server : input_server.rdef ;

UsePrivateHeaders app ;
UsePrivateHeaders input ;
UsePrivateHeaders storage ;

Server input_server :
	InputServer.cpp
	InputServerDevice.cpp
	InputServerFilter.cpp
	InputServerMethod.cpp

	AddOnManager.cpp
	DeviceManager.cpp

	# storage
	AddOnMonitor.cpp
	AddOnMonitorHandler.cpp
	NodeMonitorHandler.cpp

	: be
;

if $(COMPILE_FOR_R5) {
} else {
	LinkSharedOSLibs input_server : <boot!home!config!lib>libopenbeos.so ;
}

SEARCH on [ FGristFiles AddOnMonitor.cpp
	AddOnMonitorHandler.cpp
	NodeMonitorHandler.cpp ] += [ FDirName $(SUBDIR) $(DOTDOT) $(DOTDOT) kits storage ] ;
