SubDir OBOS_TOP src servers registrar ;

UsePrivateHeaders app ;
UsePrivateHeaders kernel ;
UsePrivateHeaders [ FDirName kernel util ] ;
UsePrivateHeaders shared ;
UsePrivateHeaders storage ;

AddResources obos_registrar : registrar.rdef ;

local registrar_sources = 
	AppInfoList.cpp
	Clipboard.cpp
	ClipboardHandler.cpp
	Event.cpp
	EventMaskWatcher.cpp
	EventQueue.cpp
	MessageDeliverer.cpp
	MessageEvent.cpp
	MessageHandler.cpp
	MessageRunnerManager.cpp
	MessagingService.cpp
	MIMEManager.cpp
	PriorityMessageQueue.cpp
	RecentApps.cpp
	RecentEntries.cpp
	Referenceable.cpp
	Registrar.cpp
	RosterAppInfo.cpp
	RosterSettingsCharStream.cpp
	TRoster.cpp
	Watcher.cpp
	WatchingService.cpp
;

local registrar_r5_sources = 
	R5Compatibility.cpp
;

Server obos_registrar
 	:
	$(registrar_sources)
	$(registrar_r5_sources)
	:
	<boot!home!config!lib>libopenbeos.so
	stdc++.r4
	be
;

AddResources registrar : registrar.rdef ;

Server registrar
 	:
 	# no sources; directly link against the compiled objects
	:
	[ FGristFiles $(registrar_sources:S=$(SUFOBJ)) ]
	libroot.so	# Haiku libroot
	libbe.so	# Haiku libbe
	stdc++.r4
;
