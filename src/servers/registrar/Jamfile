SubDir OBOS_TOP src servers registrar ;

UsePublicHeaders app ;
UsePrivateHeaders $(DOT) ;	# needed for disk_scanner.cpp
UsePrivateHeaders app ;
UsePrivateHeaders shared ;
UsePrivateHeaders storage ;

# needed as long as disk_scanner.cpp is compiled in
SEARCH_SOURCE += [ FDirName $(OBOS_TOP) src kernel libroot os ] ;

Server obos_registrar :
	AppInfoList.cpp
	ClipboardHandler.cpp
	ClipboardTree.cpp
	DiskDeviceManager.cpp
	Event.cpp
	EventMaskWatcher.cpp
	EventQueue.cpp
	MessageEvent.cpp
	MessageRunnerManager.cpp
	MIMEManager.cpp
	RDiskDevice.cpp
	RDiskDeviceList.cpp
	RecentApps.cpp
	RecentEntries.cpp
	Registrar.cpp
	RosterAppInfo.cpp
	RosterSettingsCharStream.cpp
	RPartition.cpp
	RSession.cpp
	TRoster.cpp
	Watcher.cpp
	WatchingService.cpp

	# from .../libroot/os
	disk_scanner.cpp
;
LinkSharedOSLibs obos_registrar :
	<boot!home!config!lib>libopenbeos.so
	<boot!home!config!lib>libkernelland_emu.so	# needed for disk_scanner.cpp
	stdc++.r4
	be
;
