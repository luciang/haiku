SubDir OBOS_TOP src kernel boot platform openfirmware ;

SubDirC++Flags -fno-rtti ;

KernelMergeObject boot_platform_openfirmware.o :
	<$(SOURCE_GRIST)>start.c
	<$(SOURCE_GRIST)>openfirmware.c
	<$(SOURCE_GRIST)>debug.c
	<$(SOURCE_GRIST)>mmu.cpp
	<$(SOURCE_GRIST)>Handle.cpp
	<$(SOURCE_GRIST)>devices.cpp
	<$(SOURCE_GRIST)>console.cpp
	<$(SOURCE_GRIST)>heap.cpp
	<$(SOURCE_GRIST)>video.cpp
	<$(SOURCE_GRIST)>menu.cpp
	:
	: boot_platform_openfirmware_$(OBOS_ARCH).a
	;

SEARCH on [ FGristFiles crt0.S ]
    = [ FDirName $(OBOS_TOP) src kernel boot arch $(OBOS_ARCH) ] ;

SubInclude OBOS_TOP src kernel boot platform openfirmware arch ;
