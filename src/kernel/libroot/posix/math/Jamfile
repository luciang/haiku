SubDir OBOS_TOP src kernel libroot posix math ;

SubDirHdrs [ FDirName $(OBOS_TOP) headers posix ] ;
	# even if this looks redundant, it's needed so that posix/math.h is
	# still the first choice (there are files with the same name in
	# glibc's includes.
	# ToDo: The best solution would probably be to restrict the additional
	# header includes to ceilf.c and floorf.c, as they are the only users

SubDirHdrs [ FDirName $(SUBDIR) $(DOTDOT) glibc ] ;
SubDirHdrs [ FDirName $(SUBDIR) $(DOTDOT) glibc include ] ;
SubDirHdrs [ FDirName $(SUBDIR) $(DOTDOT) glibc include arch $(OBOS_ARCH) ] ;
SubDirHdrs [ FDirName $(SUBDIR) $(DOTDOT) glibc math ] ;

KernelMergeObject posix_math.o :
	acosh.c
	asincos.c
	asinh.c
	atan.c
	atan2.c
	atanh.c
	cabs.c
	cbrt.c
	ceilf.c
	cosh.c
	erf.c
	exp.c
	exp__E.c
	expm1.c
	floor.c
	floorf.c
	fmod.c
	gamma.c
	ieee.c
	j0.c
	j1.c
	jn.c
	lgamma.c
	log.c
	log10.c
	log1p.c
	log__L.c
	math_globals.c
	pow.c
	sincos.c
	sinh.c
	tan.c 
	tanh.c
	:
	-fPIC -DPIC
	;

SubInclude OBOS_TOP src kernel libroot posix math arch ;  
