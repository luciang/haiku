SubDir OBOS_TOP src kernel libroot posix glibc stdio-common ;

SubDirCcFlags -D_GNU_SOURCE -DUSE_IN_LIBIO ;

SubDirHdrs $(OBOS_TOP) src kernel libroot posix glibc libio ;
SubDirHdrs $(OBOS_TOP) src kernel libroot posix glibc include arch $(OBOS_ARCH) ;
SubDirHdrs $(OBOS_TOP) src kernel libroot posix glibc include ;
SubDirHdrs $(OBOS_TOP) src kernel libroot posix glibc stdio-common ;
SubDirHdrs $(OBOS_TOP) src kernel libroot posix glibc locale ;
SubDirHdrs $(OBOS_TOP) src kernel libroot posix glibc ;

# ToDo: for now, all wide character functions are disabled

KernelMergeObject posix_gnu_stdio.o : #_common.o :
	<$(SOURCE_GRIST)>_itoa.c
	<$(SOURCE_GRIST)>_itowa.c
	<$(SOURCE_GRIST)>asprintf.c
	<$(SOURCE_GRIST)>dprintf.c
	<$(SOURCE_GRIST)>fprintf.c
	<$(SOURCE_GRIST)>fscanf.c
	<$(SOURCE_GRIST)>getline.c
	<$(SOURCE_GRIST)>getw.c
	<$(SOURCE_GRIST)>itoa-digits.c
	<$(SOURCE_GRIST)>itoa-udigits.c
	<$(SOURCE_GRIST)>itowa-digits.c
	<$(SOURCE_GRIST)>perror.c
	<$(SOURCE_GRIST)>printf-prs.c
	<$(SOURCE_GRIST)>printf.c
	<$(SOURCE_GRIST)>printf_fp.c
	<$(SOURCE_GRIST)>printf_fphex.c
#	<$(SOURCE_GRIST)>printf_size.c
	<$(SOURCE_GRIST)>putw.c
	<$(SOURCE_GRIST)>reg-printf.c
	<$(SOURCE_GRIST)>scanf.c
	<$(SOURCE_GRIST)>snprintf.c
	<$(SOURCE_GRIST)>sprintf.c
	<$(SOURCE_GRIST)>sscanf.c
	<$(SOURCE_GRIST)>tempnam.c
	<$(SOURCE_GRIST)>tempname.c
	<$(SOURCE_GRIST)>tmpnam.c
	<$(SOURCE_GRIST)>tmpnam_r.c
	<$(SOURCE_GRIST)>vfprintf.c
#	<$(SOURCE_GRIST)>vfprintf_stub.c
#	<$(SOURCE_GRIST)>vfscanf_stub.c
	<$(SOURCE_GRIST)>vfscanf.c
#	<$(SOURCE_GRIST)>vfwprintf.c
#	<$(SOURCE_GRIST)>vfwscanf.c
	<$(SOURCE_GRIST)>vprintf.c
	:
	-fPIC -DPIC
	;
