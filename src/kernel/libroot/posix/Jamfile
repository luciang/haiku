SubDir OBOS_TOP src kernel libroot posix ;

UsePrivateHeaders [ FDirName syslog_daemon ] ;

KernelMergeObject posix_main.o :
 	<$(SOURCE_GRIST)>assert.c
 	<$(SOURCE_GRIST)>dlfcn.c
 	<$(SOURCE_GRIST)>errno.c
 	<$(SOURCE_GRIST)>fnmatch.c
 	<$(SOURCE_GRIST)>glob.c
 	<$(SOURCE_GRIST)>poll.c
 	<$(SOURCE_GRIST)>pwd.c
 	<$(SOURCE_GRIST)>rlimit.c
 	<$(SOURCE_GRIST)>syslog.cpp
 	<$(SOURCE_GRIST)>utime.c
 	:
	-fPIC -DPIC
	;

# extra kernel objects needed
KernelObjects
 	<$(SOURCE_GRIST)>kerrno.c
	;

MergeObjectFromObjects kernel_posix_main.o :
 	<$(SOURCE_GRIST)>kerrno.o
 	<$(SOURCE_GRIST)>poll.o
 	<$(SOURCE_GRIST)>utime.o
	;

SubInclude OBOS_TOP src kernel libroot posix locale ;
SubInclude OBOS_TOP src kernel libroot posix malloc ;
SubInclude OBOS_TOP src kernel libroot posix math ;
SubInclude OBOS_TOP src kernel libroot posix signal ;
SubInclude OBOS_TOP src kernel libroot posix stdio ;
SubInclude OBOS_TOP src kernel libroot posix stdlib ;
SubInclude OBOS_TOP src kernel libroot posix string ;
SubInclude OBOS_TOP src kernel libroot posix sys ;
SubInclude OBOS_TOP src kernel libroot posix termios ;
SubInclude OBOS_TOP src kernel libroot posix time ;
SubInclude OBOS_TOP src kernel libroot posix unistd ;

SubInclude OBOS_TOP src kernel libroot posix glibc ;
