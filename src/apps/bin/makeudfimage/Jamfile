SubDir OBOS_TOP src apps bin makeudfimage ;

UsePrivateHeaders [ FDirName kernel util ] ;	# For kernel_cpp.h
SubDirHdrs [ FDirName $(OBOS_TOP) src add-ons kernel file_systems udf ] ;

{
	local defines = [ FDefines USER ] ; 
	SubDirCcFlags $(defines) ;
	SubDirC++Flags $(defines) ;
}

BinCommand makeudfimage 
	: makeudfimage.cpp
	  Allocator.cpp
	  ConsoleListener.cpp
	  Shell.cpp
	  UdfBuilder.cpp

	  # Common Udf source files
	  CS0String.cpp
	  UdfDebug.cpp
	  UdfStructures.cpp
	  Utils.cpp

	: stdc++.r4
	
;

SEARCH on [ FGristFiles CS0String.cpp UdfDebug.cpp UdfStructures.cpp Utils.cpp ]
	= [ FDirName $(OBOS_TOP) src add-ons kernel file_systems udf ] ;

