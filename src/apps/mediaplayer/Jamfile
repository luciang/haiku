SubDir HAIKU_TOP src apps mediaplayer ;

SetSubDirSupportedPlatformsBeOSCompatible ;

AddSubDirSupportedPlatforms libbe_test ;

# for BRecentItems
UsePublicHeaders [ FDirName be_apps Tracker ] ;

# source directories
local sourceDirs =
	playlist
	supplier
	support
	settings
;

local sourceDir ;
for sourceDir in $(sourceDirs) {
	SEARCH_SOURCE += [ FDirName $(HAIKU_TOP) src apps mediaplayer $(sourceDir) ] ;
}

Application MediaPlayer :
	# playlist
	CopyPLItemsCommand.cpp
	ImportPLItemsCommand.cpp
	ListViews.cpp
	MovePLItemsCommand.cpp
	Playlist.cpp
	PlaylistListView.cpp
	PlaylistObserver.cpp
	PlaylistWindow.cpp
	RemovePLItemsCommand.cpp

	# supplier
	Settings.cpp
	SettingsWindow.cpp

	# supplier
	AudioSupplier.cpp
	MediaTrackAudioSupplier.cpp
	MediaTrackVideoSupplier.cpp
	VideoSupplier.cpp

	# support
	AbstractLOAdapter.cpp
	Command.cpp
	CommandStack.cpp
	Listener.cpp
	ListenerAdapter.cpp
	Notifier.cpp
	RWLocker.cpp
	FileReadWrite.cpp
	TPreferences.cpp

	# .
	Controller.cpp
	ControllerObserver.cpp
	ControllerView.cpp
	DrawingTidbits.cpp
	InfoWin.cpp
	MainApp.cpp
	MainWin.cpp
	SoundOutput.cpp
	TransportButton.cpp
	TransportControlGroup.cpp
	SeekSlider.cpp
	VideoNode.cpp
	VideoView.cpp
	VolumeSlider.cpp

	: be media tracker translation textencoding $(TARGET_LIBSTDC++)
	: MediaPlayer.rdef
;

if $(TARGET_PLATFORM) = libbe_test {
	HaikuInstall install-test-apps : $(HAIKU_APP_TEST_DIR) : MediaPlayer
		: tests!apps ;
}
