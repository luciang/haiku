SubDir OBOS_TOP src system boot platform bios_ia32 ;

SubDirHdrs $(OBOS_TOP) headers private kernel boot platform $(OBOS_BOOT_PLATFORM) ;

UsePrivateHeaders [ FDirName kernel disk_device_manager ] ;
UsePrivateHeaders [ FDirName graphics vesa ] ;
UsePrivateHeaders [ FDirName storage ] ;

SubDirC++Flags -fno-rtti ;

KernelMergeObject boot_platform_bios_ia32.o :
	shell.S
	start.c
	debug.c
	bios.S
	console.cpp
	serial.cpp
	devices.cpp
	keyboard.cpp
	menu.cpp
	mmu.cpp
	cpu.cpp
	smp_boot.c
	smp_trampoline.S
	support.S
	video.cpp
	: -fno-pic
	;
