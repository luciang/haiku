SubDir OBOS_TOP src system libroot os ;

SubDirHdrs [ FCurrentObjectsDir ] ;

KernelMergeObject os_main.o :
	area.c
	atomic.c
	debug.c
	driver_settings.c
	find_directory.c
	fs_attr.c
	fs_index.c
	fs_info.c
	fs_query.cpp
	fs_volume.c
	image.c
	parsedate.cpp
	port.c
	scheduler.c
	sem.c
	system_info.c
	team.c
	thread.c
	time.c
	syscalls.S
	:
	-fPIC -DPIC
	;

# We need to specify the dependency on the generated syscalls file explicitly.
Depends [ FGristFiles syscalls.o ] : <syscalls>syscalls.S.inc ;

SubInclude OBOS_TOP src system libroot os arch ;
