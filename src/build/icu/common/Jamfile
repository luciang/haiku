SubDir HAIKU_TOP src tools icu common ;

SEARCH_SOURCE += [ FDirName $(HAIKU_TOP) src libs icu source common ] ;

UseLibraryHeaders icu ;

SubDirHdrs [ FDirName $(HAIKU_TOP) src libs icu source i18n ] ;

SubDirCcFlags
	-DU_COMMON_IMPLEMENTATION -Wno-sign-compare
	;

SubDirC++Flags
	-DU_COMMON_IMPLEMENTATION -Wno-sign-compare -Wno-parentheses
	;

MakeLocate <build>libicu-common.so : $(HOST_BUILD_COMPATIBILITY_LIB_DIR) ;

BuildPlatformSharedLibrary <build>libicu-common.so :
	bmpset.cpp
	brkeng.cpp
	brkiter.cpp
	bytestream.cpp
	caniter.cpp
	chariter.cpp
	cmemory.c
	cstring.c
	cwchar.c
	dictbe.cpp
	dtintrv.cpp
	errorcode.cpp
	locbased.cpp
	locid.cpp
	locmap.c
	locutil.cpp
	mutex.cpp
	normlzr.cpp
	parsepos.cpp
	propname.cpp
	propsvec.c
	punycode.c
	putil.c
	rbbi.cpp
	rbbidata.cpp
	rbbinode.cpp
	rbbirb.cpp
	rbbiscan.cpp
	rbbisetb.cpp
	rbbistbl.cpp
	rbbitblb.cpp
	resbund_cnv.cpp
	resbund.cpp
	ruleiter.cpp
	schriter.cpp
	serv.cpp
	servlk.cpp
	servlkf.cpp
	servls.cpp
	servnotf.cpp
	servrbf.cpp
	servslkf.cpp
	stringpiece.cpp
	triedict.cpp
	uarrsort.c
	ubidi.c
	ubidiln.c
	ubidi_props.c
	ubidiwrt.c
	ubrk.cpp
	ucase.c
	ucasemap.c
	ucat.c
	uchar.c
	uchriter.cpp
	ucln_cmn.c
	ucmndata.c
	ucnv2022.c
	ucnv_bld.c
	ucnvbocu.c
	ucnv.c
	ucnv_cb.c
	ucnv_cnv.c
	ucnvdisp.c
	ucnv_err.c
	ucnv_ext.c
	ucnvhz.c
	ucnv_io.c
	ucnvisci.c
	ucnvlat1.c
	ucnv_lmb.c
	ucnvmbcs.c
	ucnvscsu.c
	ucnvsel.cpp
	ucnv_set.c
	ucnv_u16.c
	ucnv_u32.c
	ucnv_u7.c
	ucnv_u8.c
	ucol_swp.c
	udata.c
	udatamem.c
	udataswp.c
	uenum.c
	uhash.c
	uhash_us.cpp
	uidna.cpp
	uinit.c
	uinvchar.c
	uiter.cpp
	ulist.c
	uloc.c
	uloc_tag.c
	umapfile.c
	umath.c
	umutex.c
	unames.c
	unifilt.cpp
	unifunct.cpp
	uniset.cpp
	uniset_props.cpp
	unisetspan.cpp
	unistr_case.cpp
	unistr_cnv.cpp
	unistr.cpp
	unistr_props.cpp
	unormcmp.cpp
	unorm.cpp
	unorm_it.c
	uobject.cpp
	uprops.c
	uresbund.c
	ures_cnv.c
	uresdata.c
	usc_impl.c
	uscript.c
	uset.cpp
	usetiter.cpp
	uset_props.cpp
	ushape.c
	usprep.cpp
	ustack.cpp
	ustrcase.c
	ustr_cnv.c
	ustrenum.cpp
	ustrfmt.c
	ustring.c
	ustrtrns.c
	ustr_wcs.c
	utext.cpp
	utf_impl.c
	util.cpp
	util_props.cpp
	utrace.c
	utrie2_builder.c
	utrie2.c
	utrie.c
	utypes.c
	uvector.cpp
	uvectr32.cpp
	wintz.c
	:
	<build!stub>libicu-data.so $(HOST_LIBSUPC++)
	;
