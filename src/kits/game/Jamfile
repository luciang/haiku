SubDir OBOS_TOP src kits game ;

UsePrivateHeaders interface ;
UsePrivateHeaders input ;

if ! $(HAIKU_COMPATIBLE) {
	SubDirC++Flags -DCOMPILE_FOR_R5 ;
	
	# Hack to have DirectWindow.cpp and WindowScreen.cpp
	# include the R5 <Window .h> header.
	PrependObjectHdrs DirectWindow.cpp : /boot/develop/headers/be/interface ;
	PrependObjectHdrs WindowScreen.cpp : /boot/develop/headers/be/interface ;
}


SharedLibrary game :
	# Public Game Kit
	DirectWindow.cpp
	WindowScreen.cpp
	GameSound.cpp
	SimpleGameSound.cpp
	FileGameSound.cpp
	PushGameSound.cpp
	StreamingGameSound.cpp

	# Internal Functionality
	GameProducer.cpp
	GameSoundBuffer.cpp
	GameSoundDevice.cpp
	GSUtility.cpp
;


LinkSharedOSLibs libgame.so :
	libbe.so libmedia.so
;

MakeLocate <develop>libgame.so : $(OBOS_STLIB_DIR) ;
RelSymLink <develop>libgame.so : libgame.so ;
