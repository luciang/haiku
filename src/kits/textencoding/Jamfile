SubDir HAIKU_TOP src kits textencoding ;

SetSubDirSupportedPlatformsBeOSCompatible ;
AddSubDirSupportedPlatforms libbe_test ;

UsePrivateHeaders textencoding ;
SubDirSysHdrs [ FDirName $(SUBDIR) libiconv ] ;

if ! $(TARGET_PLATFORM_HAIKU_COMPATIBLE) {
	# Argh! Just for <posix/iconv.h>.
	UseHeaders [ FDirName $(HAIKU_TOP) headers posix ] : true ;
}

SharedLibrary libtextencoding.so :
	CharacterSet.cpp
	CharacterSetRoster.cpp
	character_sets.cpp
	utf8_conversions.cpp
	: libiconv.a be ;

Package haiku-maildaemon-cvs :
	libtextencoding.so :
	boot beos system lib ;

SubInclude HAIKU_TOP src kits textencoding libiconv ;
