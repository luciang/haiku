SubDir OBOS_TOP src kits network libnetapi ;

UsePrivateHeaders net ;

{
	if ( $(TARGET_PLATFORM) = r5 ) {
		defines = [ FDefines BUILDING_R5_LIBNET ] ;
		SubDirCcFlags $(defines) ;
		SubDirC++Flags $(defines) ;
		PLATFORM_LIBS = ;
	} else {
		PLATFORM_LIBS = libsocket.so ;
	}
}

SharedLibrary netapi :
	NetEndpoint.cpp
	NetAddress.cpp 
	NetBuffer.cpp
	NetDebug.cpp
	: libroot.so libbe.so libnet.so $(PLATFORM_LIBS)
;

# Installation -- in the test directory for the time being
OBOSInstallRelSymLink install-networking
	: [ FDirName $(OBOS_TEST_DIR) kits net lib ]
	: libnetapi.so
	: installed-networking-test ;

Package haiku-networkingkit-cvs :
	libnetapi.so :
#	boot home config lib ;
	boot home Desktop haiku-networkingkit lib ;
