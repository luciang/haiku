SubDir OBOS_TOP src add-ons kernel network ppp ipcp ;

# for kernel_cpp.h and BLocker
UsePrivateHeaders net ;
UsePrivateHeaders [ FDirName kernel ] ;
UsePrivateHeaders [ FDirName kernel util ] ;
UseHeaders [ FDirName $(OBOS_TOP) src add-ons kernel network ppp shared libkernelppp headers ] ;
UseHeaders [ FDirName $(OBOS_TOP) src add-ons kernel network ppp shared libkernelppp ] ;

R5KernelAddon ipcp : kernel obos_network ppp :
	# imported from libnet
	inet_addr.c
	
	ipcp.cpp
	Protocol.cpp
;

SEARCH on [ FGristFiles inet_addr.c ] = [ FDirName $(OBOS_TOP) src kits network libnet ] ;

LinkSharedOSLibs ipcp : libkernelppp.a ;

# Installation
OBOSInstall install-networking
	: /boot/home/config/add-ons/kernel/obos_network/ppp
	: ipcp ;

Package openbeos-networkingkit-cvs :
	ipcp :
	boot home config add-ons kernel obos_network ppp ;
