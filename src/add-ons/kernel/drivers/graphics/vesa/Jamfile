SubDir OBOS_TOP src add-ons kernel drivers graphics vesa ;

UsePrivateHeaders graphics ;
UsePrivateHeaders [ FDirName graphics vesa ] ;

KernelAddon vesa : kernel drivers bin :
	device.cpp
	driver.cpp
	vesa.cpp
	;

# Link to kernel/drivers/dev/graphics
{
	local dir = [ FDirName $(OBOS_ADDON_DIR) kernel drivers dev graphics ] ;
	local instDriver = <kernel!drivers!dev!graphics>vesa ;
	MakeLocate $(instDriver) : $(dir) ;
	RelSymLink $(instDriver) : vesa ;
}
