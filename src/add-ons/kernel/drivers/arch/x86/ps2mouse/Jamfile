SubDir HAIKU_TOP src add-ons kernel drivers arch x86 ps2mouse ;

SetSubDirSupportedPlatformsBeOSCompatible ;

UsePrivateHeaders input kernel ;

KernelObjects
	ps2mouse.c
	:
	-fno-pic
	;

KernelLd ps2mouse :
	<$(SOURCE_GRIST)>ps2mouse.o
	kernel.so
	:
	$(HAIKU_TOP)/src/system/ldscripts/$(TARGET_ARCH)/add-on.ld
	:
	-Bdynamic -shared
	:
	; 

if $(COMPILE_FOR_R5) {
SubDirCcFlags -DCOMPILE_FOR_R5 ;

KernelAddon <driver>ps2mouse : kernel drivers bin :
	ps2mouse.c
;

#Package haiku-inputkit-cvs
#	:
#	<driver>ps2mouse
#	:
#	boot home config add-ons kernel drivers bin ;

#Package haiku-inputkit-cvs
#	:
#	<kernel!drivers!dev!input>ps2mouse
#	:
#	boot home config add-ons kernel drivers dev input ;

}
