SubDir HAIKU_TOP src add-ons kernel partitioning_systems session ;

#UsePrivateHeaders $(DOT) ;
UsePrivateHeaders [ FDirName kernel disk_device_manager ] ;
UsePrivateHeaders [ FDirName kernel ] ;
UsePrivateHeaders [ FDirName storage ] ;

{
#	local defines = [ FDefines USER ] ; 
#	SubDirCcFlags $(defines) ;
#	SubDirC++Flags $(defines) ;
}

local session_files = 
	Debug.cpp
	Disc.cpp
	session.cpp
	;

KernelAddon session : kernel partitioning_systems :
	$(session_files)
;

# also build a userland version
#Addon <partitioning_system>session : userland partitioning_systems :
#	[ FGristFiles $(session_files:S=$(SUFOBJ)) ]
#;
#
#LinkAgainst <partitioning_system>session :
#	libkernelland_emu.so
#	libdisk_device_manager.so
#;
