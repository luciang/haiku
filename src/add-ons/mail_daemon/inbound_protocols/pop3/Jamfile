SubDir OBOS_TOP src add-ons mail_daemon inbound_protocols pop3 ;

UsePrivateHeaders mail ;
SubDirHdrs [ FDirName $(OBOS_TOP) headers os add-ons mail_daemon ] ;

SubDirC++Flags -DBONE ;

if $(USESSL) {
	SubDirC++Flags -DBONE -DUSESSL ;
	SubDirHdrs [ FDirName / boot home config include ] ;
}

Addon POP3 : mail_daemon inbound_protocols :
	MessageIO.cpp
	pop3.cpp
	SimpleMailProtocol.cpp
	md5c.c ;

if $(USESSL) {
	LinkSharedOSLibs POP3 :
		be libmail.so socket bind ssl crypto ;
} else {
	LinkSharedOSLibs POP3 :
	 	be libmail.so socket bind ;
}

Package haiku-maildaemon-cvs :
	POP3 : 
	boot home config add-ons mail_daemon inbound_protocols ;
