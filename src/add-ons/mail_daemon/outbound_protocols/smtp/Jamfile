SubDir OBOS_TOP src add-ons mail_daemon outbound_protocols smtp ;

UsePrivateHeaders mail ;
SubDirHdrs [ FDirName $(OBOS_TOP) headers os add-ons mail_daemon ] ;

if $(BONE_COMPATIBLE) {
	SubDirC++Flags -DBONE ;
} else {
	SubDirC++Flags -DBUILDING_R5_LIBNET ;
}

Addon SMTP : mail_daemon outbound_protocols :
	smtp.cpp
	md5c.c ;

LinkSharedOSLibs SMTP : be libmail.so ;

if $(BONE_COMPATIBLE) {
	LinkSharedOSLibs SMTP : socket bind ;
} else {
	LinkSharedOSLibs SMTP : net ;
}

Package haiku-maildaemon-cvs :
	SMTP : 
	boot home config add-ons mail_daemon outbound_protocols ;
