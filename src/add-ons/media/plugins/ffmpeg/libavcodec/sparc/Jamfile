SubDir HAIKU_TOP src add-ons media plugins ffmpeg libavcodec sparc ;

SubDirHdrs [ FDirName $(SUBDIR) .. ] ;
SubDirHdrs [ FDirName $(SUBDIR) ../.. ] ;
SubDirHdrs [ FDirName $(SUBDIR) ../../libavutil ] ;
SubDirHdrs [ FDirName $(SUBDIR) ../../libswscale ] ;

# filter warnings we don't want here
TARGET_WARNING_CCFLAGS = [ FFilter $(TARGET_WARNING_CCFLAGS)
	: -Wall -Wmissing-prototypes -Wsign-compare -Wpointer-arith ] ;

if $(HAIKU_GCC_VERSION[1]) >= 3 {
	SubDirCcFlags -fomit-frame-pointer -fno-pic ;
} else {
	SubDirCcFlags -fomit-frame-pointer -DPIC ;
}

SubDirCcFlags $(FFMPEG_PLATFORM_DEFINES) ;
SubDirC++Flags $(FFMPEG_PLATFORM_DEFINES) ;

StaticLibrary libavcodec_sparc.a :
    dsputil_vis.c
    simple_idct_vis.c
;

