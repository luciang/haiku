SubDir HAIKU_TOP src add-ons media plugins avcodec libswscale ;

SubDirHdrs [ FDirName $(SUBDIR) .. ] ;
SubDirHdrs [ FDirName $(SUBDIR) ../libavutil ] ;
SubDirHdrs [ FDirName $(SUBDIR) ../libavcodec ] ;

# filter warnings we don't want here
TARGET_WARNING_CCFLAGS = [ FFilter $(TARGET_WARNING_CCFLAGS)
	: -Wall -Wmissing-prototypes -Wsign-compare -Wpointer-arith ] ;

SubDirCcFlags -fomit-frame-pointer -DPIC ;
#SubDirCcFlags -DHAVE_AV_CONFIG_H=1 ;

StaticLibrary libswscale.a :
	rgb2rgb.c
	swscale.c
	swscale_avoption.c
	yuv2rgb.c
;
