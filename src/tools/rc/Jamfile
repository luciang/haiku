SubDir OBOS_TOP src tools rc ;

GENERATE_C++ on [ FGristFiles lexer.l parser.y ] = true ;

SubDirC++Flags -Wno-sign-compare -Wno-unused ;

StaticLibrary rdef :
	compile.cpp decompile.cpp lexer.l parser.y rdef.cpp ;

BuildPlatformMain rc :
	rc.cpp

	# these two are needed for R5 only
	strlcpy.c
	strlcat.c
;
LinkSharedOSLibs rc : librdef.a $(BUILD_LIBSTDC++) be ;

SEARCH on [ FGristFiles
		strlcat.c strlcpy.c
	] = [ FDirName $(OBOS_TOP) src system libroot posix string ] ;
